<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passer un Examen</title>
    <link rel="stylesheet" href="/css/studentExam.css">
</head>
<body>
    <div class="container">
        <h1 id="examTitle"></h1>
        <p id="examDetails"></p>
        <div id="countdown" style="display: none;"></div>
        <div id="examContent" style="display: none;">
            <form id="examForm">
                <div id="questionsContainer"></div>
                <button type="button" id="nextBtn" style="display: none;">Suivant</button>
                <button type="submit" id="submitBtn" style="display: none;">Soumettre</button>
            </form>
            <div id="scoreDisplay" style="display: none;"></div>
            <div id="examEnded" style="display: none;"></div>
        </div>
    </div>
    <script>
        window.examData = {
            title: "<%= exam.title %>",
            subject: "<%= exam.subject %>",
            level: "<%= exam.level %>",
            duration: <%= exam.duration * 60 * 1000 %>, // Convert minutes to milliseconds
            date: "<%= exam.date.toISOString() %>",
            questions: <%- JSON.stringify(questions) %>,
            examId: "<%= exam._id %>",
            studentId: "<%= student._id %>",
            latitude: "<%= latitude %>",
            longitude: "<%= longitude %>",
            endTime: "<%= endTime %>"
        };
        console.log('window.examData initialized:', window.examData);
    </script>
    <script src="/js/studentExam.js"></script>
</body>
</html>